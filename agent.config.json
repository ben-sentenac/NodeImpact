{
  "agent": {
    "sampling": {
      "period_ms": 1000
    },
    "windows": ["10s", "60s", "300s"],
    "timezone": "UTC"
  },
  "target": {
    "selector": {
      "mode": "pid",
      "pid": 12345
    },
    "eventloop_probe": {
      "enabled": true,
      "expected_interval_ms": 10,
      "ingest": {
        "transport": "uds",
        "uds_path": "/tmp/node-app-el.sock"
      }
    }
  },
  "energy": {
    "sensors": {
      "rapl": {
        "enabled": true,
        "base_path": "/sys/class/powercap",
        "packages": [],
        "required":false, 
        "vendors":["intel","amd"]
      },
      "gpu": {
        "enabled": false
      }
    },
    "idle_baseline_wh_per_min": 0.0
  },
  "attribution": {
    "mode": "cpu_share",
    "multifactor": {
      "enabled": false,
      "coefficients": {
        "w0": 0.0,
        "w1": 15.0,
        "w2": 0.0,
        "w3": 0.5,
        "w4": 0.8
      }
    }
  },
  "carbon": {
    "source": {
      "type": "file",
      "file": "/etc/agent/carbon_intensity.csv"
    },
    "zone": "FR",
    "default_kg_per_kwh": 0.25
  },
  "export": {
    "http": {
      "enabled": true,
      "listen": "0.0.0.0",
      "port": 9465,
      "endpoints": {
        "metrics": "/metrics",
        "snapshot": "/snapshot",
        "healthz": "/healthz",
        "ingest_eventloop": "/ingest/eventloop"
      }
    },
    "file": {
      "ndjson_enabled": true,
      "path": "/var/log/agent/metrics-%Y-%m-%d.ndjson",
      "rotate_mb": 50
    }
  },
  "logging": {
    "level": "info",
    "file": "/var/log/agent/agent.log"
  },
  "limits": {
    "max_rps_ingest": 200,
    "max_mem_mb": 100
  }
}
